var pokemonRepository=function(){var t=[],n="https://pokeapi.co/api/v2/pokemon/?limit=150";function e(n){t.push(n)}function o(t){var n=t.detailsUrl;return $.ajax(n).then(function(n){t.imageUrl=n.sprites.front_default,t.height=n.height,t.types=n.types.map(function(t){return t.type.name})}).catch(function(t){console.error(t)})}return{add:e,getAll:function(){return t},addListItem:function(t){var n=$(".pokemon-ul"),e=$('<button type="button" class="list-group-item list-group-item-action"></button>'),i=$('<button type ="button" class ="btn-outline-danger btn-block btn-lg" data-toggle="modal" data-target="#modal-container"></button>').text(t.name);e.append(i),n.append(e),i.on("click",function(n){var e;o(e=t).then(function(){var t=$(".modal-body"),n=$(".modal-title");t.empty(),n.empty();var o=$('<h1 class="modal-title2"></h1>').text(e.name);n.append(o);var i=$("<p></p>").text("Height: "+e.height+"m"),r=$("<p></p>").text("Type(s): "+e.types.join(", ")),l=$('<img class="modal-image">').attr("src",e.imageUrl);t.append(i).append(r).append(l),window.on("keydown",t=>{var n=$("#modal-container");"Escape"===t.key&&n.hasClass("is-visible")&&a()}),modalContainer.on("click",t=>{t.target===modalContainer&&a()})})})},loadList:function(){return $.ajax(n,{dataType:"json"}).then(function(t){$.each(t.results,function(t,n){e({name:n.name,detailsUrl:n.url})})}).catch(function(t){console.error(t)})},loadDetails:o};function a(){$("#modal-container").removeClass("is-visible")}}();pokemonRepository.loadList().then(function(){var t=pokemonRepository.getAll();$.each(t,function(t,n){pokemonRepository.addListItem(n)})});